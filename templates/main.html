<!--
 * @Author: YUIJ 2645602049@qq.com
 * @Date: 2022-12-05 08:51:35
 * @LastEditors: YUIJ 2645602049@qq.com
 * @LastEditTime: 2023-01-10 18:54:45
 * @FilePath: \RandomCall\main.html
 * @Description: 这是默认设置,请设置'customMade', 打开koroFileHeader查看配置 进行设置: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE
-->
<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="utf-8">

    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;"/>
    <title>RandomPhoto - 随机图片提供系统 By鱼鱼</title>
    <meta name="keywords"
          content="RandomPhotoProject,RandomPhoto,鱼几斤,随机图片站,接口站,2645602049@qq.com"/>
    <meta name="description" content="RandomPhoto是一款免费的壁纸提供接口站，分为手机版和电脑版两种版本，你可以在本站预览和下载所有的壁纸。">
    <script src="../static/js/静态资源集中管理部门.js"></script>
    <link rel="stylesheet" href="../static/css/independent/main/启动图.css">
    <link rel="stylesheet" href="../static/css/independent/main/组件.css">
    <link rel="stylesheet" href="../static/css/independent/main/子页面相关.css">
    <link rel="stylesheet" href="../static/css/independent/main/渐变入场.css">
    <style>
        html {
            /* 加载背景图 */
            background-image: url(/Random) !important;
            /* 背景图垂直、水平均居中 */
            background-position: center center;
            /* 背景图不平铺 */
            background-repeat: no-repeat;
            /* 当内容高度大于图片高度时，背景图像的位置相对于viewport固定 */
            background-attachment: fixed;
            /* 让背景图基于容器大小伸缩 */
            background-size: cover;
        }

        html::before {
            position: fixed;
            top: 0;
            display: block;
            content: '';
            width: 100vw;
            height: 100vh;
            background: linear-gradient(to bottom, rgb(255 255 255 / 31%) 0%, #ffffff85);
        }

        body {
            background: none;
        }

        @keyframes CircleAnimation {
            0% {
                stroke-dasharray: 0;
            }
            100% {
                stroke-dasharray: 140;
            }
        }

        @keyframes SvgAnimation {
            0% {
                transform: rotate(0deg)
            }
            100% {
                transform: rotate(360deg)
            }
        }

        svg {
            animation-duration: 3s;
            animation-name: SvgAnimation;
            animation-iteration-count: infinite;
            width: 52px;
            animation-timing-function: cubic-bezier(0.28, 0.27, 1, 1);
            height: 52px;
            transition: none;

        }

        circle {
            fill: none;
            stroke: rgba(0, 0, 0, 0.73);
            stroke-width: 7px;
            stroke-dasharray: 140;
            stroke-linecap: round;
            r: 22;
            animation-duration: 10s;
            animation-name: CircleAnimation;
            animation-iteration-count: infinite;
            animation-timing-function: ease-out;
        }

        .加载内容 {
            line-height: 0px;
            font-weight: 100;
            font-size: 7px;
            position: fixed;
            top: 0;
            color: #00000099;
            width: 42%;
            height: 100vh;
            overflow: hidden;
            text-wrap: nowrap;
            user-select: none;
        }

        .iframe_randomcall {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            border: none;
            z-index: 1;
            transition: all 0.5s;
        }
    </style>
</head>

<body id="body" style="opacity: 0;">

<div class="加载内容" id="加载内容"></div>
<div id="计时器" style="display: none">true</div>
<div id="index"></div>

<div id="启动图" class="启动图">
    <h1
            style="text-align: center;font-size: 38px;margin-top: 33vh;animation-iteration-count: infinite;font-weight: bold;margin-bottom: 20vh;">
        RandomPhoto</h1>

    <svg>
        <circle cx="26" cy="26" fill="none" stroke="red"></circle>
    </svg>
</div>

</body>
<script>
    document.getElementById('index').innerHTML = '<iframe src="/index" id="iframe_RandomPhoto" style="z-index:2;top:30px" class="iframe_randomcall"></iframe>'
    RandomPhoto = document.getElementById('iframe_RandomPhoto')
    启动图 = document.getElementById('启动图')
    计时器状态 = document.getElementById('计时器')
    加载内容 = document.getElementById('加载内容')

    setTimeout(function () {
        if (计时器状态.innerHTML === "true") {
            snackbar('加载失败，准备重试')
            window.location.reload()
        }
    }, 20000)

    静态资源集中管理部门([
        '../static/css/independent/main/启动图.css',
        '../static/css/independent/main/子页面相关.css',
        '../static/css/independent/main/渐变入场.css',
        '../static/css/independent/main/组件.css',
        '../static/css/independent/photo.css',
        '../static/css/independent/photo_info.css',
        "../static/css/independent/upload.css",
        "../static/css/independent/正文.css",
        "../static/css/independent/项目范围.css",
        '../static/css/theme/light.css',
        '../static/css/RandomPhoto_style.css',

        "../static/js/independent/shenghe.js",
        "../static/js/independent/upload.js",
        "../static/js/ajax_helper.js",
        "../static/js/ChangeLog.js",
        '../static/js/index.js',
        "../static/js/mdui_tool.js",

    ], true)

    window.onload = () => {
        setTimeout(function () {
            计时器状态.innerHTML = "false"
            RandomPhoto.style.cssText = 'top:0;opacity:1;'
            启动图.style.cssText = 'display:none;'
            加载内容.style.cssText = 'opacity:0;'
        }, 500)
    }

</script>

</html>